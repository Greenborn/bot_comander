# Bot Commander - Reglas y Convenciones del Proyecto

## ğŸ“ Reglas de Commits

### Formato de Mensajes
```
<tipo>: <descripciÃ³n corta>

<descripciÃ³n detallada opcional>

ğŸš€ Implementaciones principales:
- Lista de cambios principales

ğŸ“ Mejoras especÃ­ficas:
- Detalles tÃ©cnicos
- Funcionalidades agregadas

ğŸ”§ Correcciones tÃ©cnicas:
- Bugs corregidos
- Optimizaciones
```

### Tipos de Commit
- `feat`: Nueva funcionalidad
- `fix`: CorrecciÃ³n de bugs
- `refactor`: RefactorizaciÃ³n de cÃ³digo
- `style`: Cambios de formato/estilo
- `docs`: ActualizaciÃ³n de documentaciÃ³n
- `test`: Agregar o modificar tests
- `chore`: Tareas de mantenimiento

### LÃ­mites
- **LÃ­nea de asunto**: MÃ¡ximo 80 caracteres
- **Cuerpo del mensaje**: MÃ¡ximo 120 caracteres por lÃ­nea
- **Usar emojis** para categorizar cambios principales

### Ejemplos
```
feat: Sistema PTY multibot con terminal optimizado

ğŸš€ Implementaciones principales:
- Sistema PTY multi-bot con sesiones persistentes
- Terminal optimizado para comandos como htop

fix: CorrecciÃ³n de sintaxis CSS en terminal

ğŸ”§ Correcciones tÃ©cnicas:
- Eliminada llave duplicada en #terminal-content
- Mejorado manejo de errores en formateo ANSI
```

## ğŸ“ Estructura de Archivos

### Convenciones de Nombres
- **Archivos**: `kebab-case` (ej: `bot-commander.js`)
- **Componentes Vue**: `PascalCase` (ej: `BotTerminal.vue`)
- **Funciones**: `camelCase` (ej: `handlePtyMessage`)
- **Variables**: `camelCase` (ej: `terminalSessionId`)
- **Constantes**: `UPPER_SNAKE_CASE` (ej: `MAX_TERMINAL_LINES`)

### OrganizaciÃ³n
```
bot_comander/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ handlers/          # Manejadores WebSocket
â”‚   â”‚   â”œâ”€â”€ middleware/        # Middleware Express
â”‚   â”‚   â””â”€â”€ utils/            # Utilidades compartidas
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # Componentes Vue reutilizables
â”‚   â”‚   â”œâ”€â”€ utils/           # Utilidades del frontend
â”‚   â”‚   â””â”€â”€ styles/          # Estilos globales
â”œâ”€â”€ scripts/                 # Scripts de automatizaciÃ³n
â”œâ”€â”€ test/                   # Tests unitarios e integraciÃ³n
â””â”€â”€ docs/                   # DocumentaciÃ³n del proyecto
```

## ğŸ¨ EstÃ¡ndares de CÃ³digo

### JavaScript/Vue
- **IndentaciÃ³n**: 2 espacios
- **Comillas**: Simples (`'`) para strings
- **Semicolons**: Obligatorios
- **Longitud de lÃ­nea**: MÃ¡ximo 120 caracteres
- **Nombres descriptivos**: Variables y funciones autoexplicativas

### CSS
- **MetodologÃ­a**: BEM para clases CSS
- **Prefijos**: Usar `terminal-`, `bot-`, `panel-` segÃºn contexto
- **Colores**: Usar variables CSS para tema consistente
- **Responsive**: Mobile-first approach

### Comentarios
```javascript
// Comentario de lÃ­nea simple
/* 
 * Comentario de bloque para explicaciones complejas
 * MÃºltiples lÃ­neas cuando sea necesario
 */

/**
 * JSDoc para funciones importantes
 * @param {string} sessionId - ID de la sesiÃ³n PTY
 * @param {object} data - Datos del mensaje
 * @returns {boolean} - True si el proceso fue exitoso
 */
```

## ğŸ“‹ DocumentaciÃ³n

### README.md
- **TÃ­tulo y descripciÃ³n** clara del proyecto
- **Requisitos** del sistema
- **InstalaciÃ³n** paso a paso
- **ConfiguraciÃ³n** de variables de entorno
- **Uso** con ejemplos prÃ¡cticos
- **API** documentada con endpoints
- **Troubleshooting** para problemas comunes

### Archivos EspecÃ­ficos
- `PROTOCOL.md`: DocumentaciÃ³n del protocolo WebSocket
- `SECURITY.md`: Directrices de seguridad
- `ARCHITECTURE.md`: Arquitectura del sistema
- `CHANGELOG.md`: Historial de cambios por versiÃ³n

### Comentarios en CÃ³digo
- **Funciones complejas**: Explicar lÃ³gica y propÃ³sito
- **Algoritmos**: Documentar pasos importantes
- **APIs externas**: Documentar integraciones
- **TODOs**: Formato `// TODO: DescripciÃ³n de tarea pendiente`

## ğŸ”’ Seguridad

### Variables de Entorno
- **Nunca commitear** archivos `.env` con credenciales reales
- **Usar** `.env.example` para plantillas
- **Rotar** secrets regularmente
- **Validar** todas las entradas del usuario

### AutenticaciÃ³n
- **JWT tokens** con expiraciÃ³n apropiada
- **Bcrypt** para hash de contraseÃ±as
- **Rate limiting** en endpoints sensibles
- **CORS** configurado correctamente

## ğŸ§ª Testing

### Cobertura
- **MÃ­nimo 80%** de cobertura de cÃ³digo
- **Tests unitarios** para funciones crÃ­ticas
- **Tests de integraciÃ³n** para APIs
- **Tests E2E** para flujos principales

### Convenciones
- **Archivos**: `*.test.js` o `*.spec.js`
- **Describe**: Funcionalidad que se estÃ¡ probando
- **It**: Comportamiento especÃ­fico esperado
- **Arrange-Act-Assert**: Estructura de tests

## âš¡ Performance

### Frontend
- **Lazy loading** para componentes grandes
- **Debounce** en inputs de bÃºsqueda
- **LÃ­mites de lÃ­neas** en terminales (mÃ¡ximo 50 activas)
- **Limpieza de listeners** en `onUnmounted`

### Backend
- **Connection pooling** para WebSocket
- **Rate limiting** para prevenir spam
- **Timeouts apropiados** para comandos PTY
- **Logging estructurado** para debugging

## ğŸš€ Deployment

### Ambientes
- **development**: Vite dev server + hot reload
- **production**: Build estÃ¡tico servido por Express
- **testing**: Ambiente aislado para pruebas

### Variables de Entorno
```bash
# Desarrollo
NODE_ENV=development
SERVE_FRONTEND_MODE=development

# ProducciÃ³n
NODE_ENV=production
SERVE_FRONTEND_MODE=production
```

## ğŸ“Š Monitoreo

### Logs
- **Formato estructurado**: JSON con timestamp, level, message
- **Niveles**: error, warn, info, debug
- **RotaciÃ³n** de archivos de log
- **Alertas** para errores crÃ­ticos

### MÃ©tricas
- **Conexiones WebSocket** activas
- **Sesiones PTY** por bot
- **Tiempo de respuesta** de comandos
- **Uso de memoria** en sesiones largas

---

## ğŸ¤ ContribuciÃ³n

1. **Fork** del repositorio
2. **Branch** para feature: `git checkout -b feature/nueva-funcionalidad`
3. **Commits** siguiendo las reglas establecidas
4. **Pull Request** con descripciÃ³n detallada
5. **Code Review** requerido antes de merge
6. **Tests** deben pasar antes de merge

## â“ Soporte

- **Issues**: Usar templates especÃ­ficos para bugs y features
- **Discussions**: Para preguntas generales y propuestas
- **Wiki**: DocumentaciÃ³n adicional y tutoriales
- **Slack/Discord**: ComunicaciÃ³n en tiempo real del equipo

---

*Ãšltima actualizaciÃ³n: 3 de agosto de 2025*
*VersiÃ³n de reglas: 1.0*
